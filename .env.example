# ===========================================
# Configuration de l'application
# ===========================================
NODE_ENV=development
PORT=3000

# CORS (comma-separated). Exemple : http://localhost:5173,http://localhost:3000
CORS_ORIGIN=http://localhost:3000

LOG_LEVEL=debug

# JWT
JWT_EXPIRES_IN=15m

# ------------------------
# OpenTelemetry Tracing (BONUS)
# ------------------------
# 1 = activé, 0 = désactivé
OTEL_ENABLED=1
# console (par défaut) ou otlp
OTEL_EXPORTER=console
# Nom de service affiché dans les traces
OTEL_SERVICE_NAME=demo-devsecops-api-j1
# Endpoint OTLP HTTP (si OTEL_EXPORTER=otlp)
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318/v1/traces
# Logs internes OTEL (0/1)
OTEL_DIAG=0

# Rate limiting auth
AUTH_RATE_LIMIT_MAX=25

# ===========================================
# Base de données PostgreSQL
# ===========================================
DATABASE_URL=postgresql://app_user:app_password_change_me@localhost:5432/myapp

# Ou format séparé:
DB_HOST=localhost
DB_PORT=5432
DB_USER=app_user
DB_PASSWORD=app_password_change_me
DB_NAME=myapp

# ===========================================
# Secrets (à générer pour la production)
# ===========================================
# Générer avec: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# IMPORTANT : change en local/prod
JWT_SECRET=dev-secret-change-in-production

# CORS (comma-separated). Example for local front : http://localhost:5173
CORS_ORIGIN=

# ===========================================
# SonarQube (après installation)
# ===========================================
# 1. Démarrer SonarQube: task sonar-start
# 2. Se connecter sur http://localhost:9000 (admin/admin)
# 3. Aller dans: Administration > Security > Users > Tokens
# 4. Générer un token et le copier ci-dessous
SONAR_URL=http://localhost:9000
SONAR_TOKEN=your-sonar-token-here

# ===========================================
# GitLab CI (pour la CI/CD)
# ===========================================
# À configurer dans GitLab: Settings > CI/CD > Variables
GITLAB_TOKEN=your-gitlab-token-here

# ===========================================
# Instructions
# ===========================================
# 1. Copier ce fichier: cp .env.example .env
# 2. Remplacer les valeurs par votre configuration
# 3. JAMAIS committer .env dans Git!
